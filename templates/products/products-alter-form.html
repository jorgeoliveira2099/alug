{%  extends 'base.html'%}

{%  load bootstrap %}

{% block title %} Alterar Anúncio {% endblock %}

{% block main %}

<body>

    <section class="container-fluid box-shadow pb-5" style="border-top: 1px solid #ccc">

        
        <div>
            {% for message in messages %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            {% endfor %}
        </div>
        
        <div class="container mt-3">

            <div class="row d-flex justify-content-center text-center mb-3">
                <h1 class="display-4 text-primary">Alterar Anúncio</h1>
            </div>

            <div class="row p-lg-5 py-4 px-1 rounded mb-5 texto-campo" style="border: 1px solid #ccc">

                <form method="POST" enctype="multipart/form-data" class="col-lg-9">
                    {% csrf_token %}
                    {{ form|bootstrap }}
                    <div>
                        <select required class="custom-select mt-2 mb-4 col-4" name="estado" id="estado"></select>
                    </div>
                    <div>
                        <select required class="custom-select col-4" name="cidade" id="cidade"></select>
                    </div>
            </div>


            <div class="row mt-5 justify-content-end">
                <div class="col-lg-3">
                    <button type="submit"
                        class="btn btn-primary px-5 btn-block mt-3 mt-lg-0 btn-lg botao-redondo">Salvar
                        Alterações</button>
                </div>
                </form>
            </div>

        </div>
    </section>

    <script type="text/javascript">
        document.getElementById("id_nome").placeholder = 'Título*';
        document.getElementById("id_descricao").placeholder = 'Descrição*';
        document.getElementById("id_preco").placeholder = 'Preço*';
        document.getElementById("id_condicoesUso").placeholder = 'Condições de Uso*';
        document.getElementById("id_categoria").classList.add("col-md-4");
        document.getElementById("id_preco").classList.add("col-md-3");

        /* Diminuir espaçamento entre campos */
        document.getElementById("id_nome").style.marginBottom = "-8px";
        document.getElementById("id_descricao").style.marginBottom = "-20px";
        document.getElementById("id_descricao").style.height = "130px";
        document.getElementById("id_categoria").style.marginBottom = "-20px";
        document.getElementById("id_preco").style.marginBottom = "-20px";
        document.getElementById("id_condicoesUso").style.marginBottom = "-20px";
        document.getElementById("id_condicoesUso").style.height = "130px";
    </script>

    <script language="JavaScript" type="text/javascript" charset="utf-8">
        new dgCidadesEstados({
            cidade: document.getElementById('cidade'),
            estado: document.getElementById('estado')
        }, '{{estado}}', '{{cidade}}')
    </script>
    {% endblock %}